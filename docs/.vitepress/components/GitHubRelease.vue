<script setup>
import { ref, onMounted, computed, watch } from 'vue'

const props = defineProps({
    owner: { type: String, required: true },
    repo: { type: String, required: true },
    prerelease: { type: Boolean, default: false },
    mode: { type: String, default: 'badge' },
    showDownloads: { type: Boolean, default: true },
    showVersion: { type: Boolean, default: true },
    tagLabel: { type: String, default: '' },
    label: { type: String, default: '下载' },
    arch: { type: String, default: '' },
    match: { type: String, default: '' },
    labelColor: { type: String, default: '' }, 
    archColor: { type: String, default: '' },
    gradient: { type: Boolean, default: true },
    showToggle: { type: Boolean, default: false },
    showBothVersions: { type: Boolean, default: false },
    icon: { type: String, default: '' }, 
})

// === 官方标准图标库 (Material Design / FontAwesome) ===
const icons = {
    // 功能图标
    tag: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2L2 7l10 5 10-5-10-5z"/><path d="M2 17l10 5 10-5"/><path d="M2 12l10 5 10-5"/></svg>`,
    flask: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 3h6v7l4 9H5l4-9V3z"/><path d="M9 3h6"/><circle cx="12" cy="16" r="1.5"/><circle cx="9" cy="14" r="1"/><circle cx="15" cy="14" r="1"/></svg>`,
    folder: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"/></svg>`,
    file: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>`,
    close: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>`,
    package: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="16.5" y1="9.4" x2="7.5" y2="4.21"/><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/><polyline points="3.27 6.96 12 12.01 20.73 6.96"/><line x1="12" y1="22.08" x2="12" y2="12"/></svg>`,
    arrowRight: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>`,
    arrowLeft: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="19" y1="12" x2="5" y2="12"/><polyline points="12 19 5 12 12 5"/></svg>`,
    edit: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 20h9"/><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"/></svg>`,
    hardDrive: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="12" x2="2" y2="12"/><path d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"/><line x1="6" y1="16" x2="6.01" y2="16"/><line x1="10" y1="16" x2="10.01" y2="16"/></svg>`,
    download: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>`,
    upload: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>`,
    refresh: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="23 4 23 10 17 10"/><polyline points="1 20 1 14 7 14"/><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/></svg>`,
    clipboard: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/><rect x="8" y="2" width="8" height="4" rx="1" ry="1"/></svg>`,
    link: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></svg>`,
    home: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>`,
    list: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/><line x1="8" y1="18" x2="21" y2="18"/><line x1="3" y1="6" x2="3.01" y2="6"/><line x1="3" y1="12" x2="3.01" y2="12"/><line x1="3" y1="18" x2="3.01" y2="18"/></svg>`,
    star: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>`,
    shield: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>`,
    key: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"/></svg>`,
    externalLink: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>`,
    
    // === OS 图标 (Simple Icons 官方彩色版本) ===
    // 来源: https://simpleicons.org/
    android: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#3DDC84" d="M18.4395 5.5586c-.675 1.1664-1.352 2.3318-2.0274 3.498-.0366-.0155-.0742-.0286-.1113-.043-1.8249-.6957-3.484-.8-4.42-.787-1.8551.0185-3.3544.4643-4.2597.8203-.084-.1494-1.7526-3.021-2.0215-3.4864a1.1451 1.1451 0 0 0-.1406-.1914c-.3312-.364-.9054-.4859-1.379-.203-.475.282-.7136.9361-.3886 1.5019 1.9466 3.3696-.0966-.2158 1.9473 3.3593.0172.031-.4946.2642-1.3926 1.0177C2.8987 12.176.452 14.772 0 18.9902h24c-.119-1.1108-.3686-2.099-.7461-3.0683-.7438-1.9118-1.8435-3.2928-2.7402-4.1836a12.1048 12.1048 0 0 0-2.1309-1.6875c.6594-1.122 1.312-2.2559 1.9649-3.3848.2077-.3615.1886-.7956-.0079-1.1191a1.1001 1.1001 0 0 0-.8515-.5332c-.5225-.0536-.9392.3128-1.0488.5449zm-.0391 8.461c.3944.5926.324 1.3306-.1563 1.6503-.4799.3197-1.188.0985-1.582-.4941-.3944-.5927-.324-1.3307.1563-1.6504.4727-.315 1.1812-.1086 1.582.4941zM7.207 13.5273c.4803.3197.5506 1.0577.1563 1.6504-.394.5926-1.1038.8138-1.584.4941-.48-.3197-.5503-1.0577-.1563-1.6504.4008-.6021 1.1087-.8106 1.584-.4941z"/></svg>`,
    windows: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#0078D4" d="M0 3.449L9.75 2.1v9.451H0m10.949-9.602L24 0v11.4H10.949M0 12.6h9.75v9.451L0 20.699M10.949 12.6H24V24l-12.9-1.801"/></svg>`,
    apple: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#000000" d="M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701"/></svg>`,
    linux: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#FCC624" d="M12.504 0c-.155 0-.315.008-.48.021-4.226.333-3.105 4.807-3.17 6.298-.076 1.092-.3 1.953-1.05 3.02-.885 1.051-2.127 2.75-2.716 4.521-.278.832-.41 1.684-.287 2.489a.424.424 0 00-.11.135c-.26.268-.45.6-.663.839-.199.199-.485.267-.797.4-.313.136-.658.269-.864.68-.09.189-.136.394-.132.602 0 .199.027.4.055.536.058.399.116.728.04.97-.249.68-.28 1.145-.106 1.484.174.334.535.47.94.601.81.2 1.91.135 2.774.6.926.466 1.866.67 2.616.47.526-.116.97-.464 1.208-.946.587-.003 1.23-.269 2.26-.334.699-.058 1.574.267 2.577.2.025.134.063.198.114.333l.003.003c.391.778 1.113 1.132 1.884 1.071.771-.06 1.592-.536 2.257-1.306.631-.765 1.683-1.084 2.378-1.503.348-.199.629-.469.649-.853.023-.4-.2-.811-.714-1.376v-.097l-.003-.003c-.17-.2-.25-.535-.338-.926-.085-.401-.182-.786-.492-1.046h-.003c-.059-.054-.123-.067-.188-.135a.357.357 0 00-.19-.064c.431-1.278.264-2.55-.173-3.694-.533-1.41-1.465-2.638-2.175-3.483-.796-1.005-1.576-1.957-1.56-3.368.026-2.152.236-6.133-3.544-6.139zm2.024 4.055c.225 0 .405.084.558.237.156.157.243.393.243.734 0 .39-.112.722-.309.96-.19.23-.447.35-.753.35-.225 0-.405-.083-.558-.237-.156-.156-.242-.392-.242-.733 0-.39.112-.722.309-.96.19-.23.447-.35.752-.35zm-4.166.005c.306 0 .564.12.754.35.197.238.309.57.309.96 0 .341-.086.577-.243.733a.703.703 0 01-.557.238c-.306 0-.564-.12-.754-.351-.197-.238-.308-.57-.308-.96 0-.341.086-.577.242-.733a.703.703 0 01.557-.237zM9.14 9.463c.186 0 .336.18.336.402 0 .221-.15.401-.336.401-.188 0-.338-.18-.338-.401 0-.222.15-.402.338-.402zm5.722 0c.188 0 .337.18.337.402 0 .221-.149.401-.337.401-.186 0-.336-.18-.336-.401 0-.222.15-.402.336-.402zM12 10.49c.273 0 .596.16.769.4.18.248.253.582.201.93-.053.36-.256.706-.575.972-.312.26-.718.428-1.152.472h-.486c-.434-.044-.84-.212-1.152-.472-.319-.266-.522-.612-.575-.972-.052-.348.022-.682.201-.93.173-.24.496-.4.769-.4zm-4.924 3.545c.866 1.024 1.726 1.79 2.032 2.323.277.482.34 1.022.145 1.661-.048.157-.115.323-.197.5l-.074.157c-.212.456-.476 1.024-.476 1.708 0 .922.534 1.598 1.29 1.972.722.357 1.63.49 2.444.49.853 0 1.593-.098 2.095-.236.526-.144.99-.384 1.274-.752.287-.372.421-.87.323-1.489-.094-.595-.379-1.218-.69-1.87-.636-1.337-1.459-2.86-.853-4.202a8.688 8.688 0 00-.277-.157c-.746-.407-1.888-.848-3.32-.866h-.033c-1.149.004-2.178.265-2.92.589a7.663 7.663 0 00-.763.372z"/></svg>`,
    ubuntu: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#E95420" d="M12 0c6.623 0 12 5.377 12 12s-5.377 12-12 12S0 18.623 0 12 5.377 0 12 0zm3.279 17.68c-.766.441-1.029 1.422-.586 2.189.441.765 1.422 1.028 2.188.584.766-.441 1.029-1.422.585-2.189-.441-.765-1.421-1.028-2.187-.584zm-3.279-1c-.705 0-1.373-.157-1.971-.435l-1.064 1.842c.984.568 2.088.893 3.035.893.947 0 2.051-.325 3.035-.893l-1.064-1.842c-.598.278-1.266.435-1.971.435zm-4.092-9.358c.441-.766.181-1.746-.585-2.189-.766-.442-1.746-.181-2.188.585-.442.766-.182 1.746.585 2.188.766.443 1.746.182 2.188-.584zm.282 8.113c-.651.378-1.139.962-1.412 1.638l1.842 1.065c.103-.379.291-.727.556-1.018.268-.292.603-.506.979-.621zm7.614-5.435h2.129c0-1.102-.244-2.149-.682-3.087l-1.843 1.064c.258.595.396 1.299.396 2.023zm-1.304-3.163c-.34-.378-.739-.695-1.179-.938-.442-.242-.91-.4-1.393-.473v2.129c.342.041.67.145.973.305.303.161.576.378.806.639zm-8.907 1.14l-1.843-1.064c-.438.938-.682 1.985-.682 3.087h2.129c0-.724.138-1.429.396-2.023zm-.002 4.046c-.259.596-.397 1.3-.397 2.023h2.129c0-.723.139-1.428.397-2.023zm10.211-.002l1.843 1.065c.438-.938.682-1.985.682-3.086h-2.129c0 .723-.138 1.427-.396 2.021zm-4.903-6.391v-2.129c-.483.074-.95.231-1.393.473-.44.243-.839.56-1.179.938l1.599 1.599c.23-.261.503-.478.806-.639.302-.16.63-.265.973-.305zM6.088 9.357l-1.843-1.064c-.438.938-.682 1.985-.682 3.087h2.129c0-.724.138-1.428.396-2.023zm4.092 9.359c.651-.378 1.139-.962 1.412-1.639l-1.843-1.064c-.103.379-.291.727-.556 1.018-.268.292-.603.506-.979.621zm-3.279-5.716c0 1.83 1.449 3.279 3.279 3.279s3.279-1.449 3.279-3.279-1.449-3.279-3.279-3.279-3.279 1.449-3.279 3.279z"/></svg>`,
    debian: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#A81D33" d="M13.839 2.675c1.059-.187 1.426.117 1.735.207a5.2 5.2 0 0 0-.816-.186 4.5 4.5 0 0 0-.919.02zm.82 1.644c.455.224.83.584 1.09.994-.146-.08-.288-.25-.37-.322-.247-.213-.5-.44-.72-.672zM12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm4.958 5.886c.122.027.244.053.362.081-.175-.204-.341-.397-.524-.591.055.168.108.341.162.51zM12.004 3c4.585.016 8.49 2.989 9.822 7.133l-.003.003c-.17.2-.25.535-.338.926-.085.401-.182.786-.492 1.046h-.003c-.059.054-.123.067-.188.135a.357.357 0 0 0-.19.064c-.431 1.278-.264 2.55.173 3.694.533 1.41 1.465 2.638 2.175 3.483.796 1.005 1.576 1.957 1.56 3.368-.008.57-.112.987-.286 1.292-1.82 2.98-5.157 4.97-8.97 4.856-4.95-.15-9.238-3.655-10.338-8.417C3.903 8.78 7.44 3.947 12.004 3z"/></svg>`,
    appimage: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#31A5ED" d="m2.325 14.773-.17-.471c-.022-.163-.003-.344.04-.495a.85.85 0 0 1 .2-.353l9.2-10.963a.69.69 0 0 1 .28-.193.96.96 0 0 1 .347-.063c.118 0 .235.018.345.063a.696.696 0 0 1 .283.194l9.2 10.963c.094.101.158.22.197.353.044.15.063.332.041.495-.017.163-.072.33-.17.47l-4.727 6.943a.855.855 0 0 1-.27.267.744.744 0 0 1-.392.1H7.714a.743.743 0 0 1-.39-.1.85.85 0 0 1-.27-.267L2.325 14.773z"/></svg>`,
    
    // === 更多 Linux 发行版图标 ===
    fedora: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#51A2DA" d="M12.001 0C5.376 0 .001 5.372.001 11.998c0 1.036.132 2.044.378 3.005h6.592v-3.382c0-2.053 1.65-3.715 3.702-3.72h1.36c1.164.002 2.109.943 2.113 2.107v5.348c-.004 1.163-.949 2.104-2.113 2.107h-1.36a2.1 2.1 0 0 1-1.598-.731v2.553l-.001.012v3.323c.3.02.6.032.902.038h.026c6.614-.022 11.977-5.397 11.997-12.012v-.648C23.977 5.36 18.614 0 12.001 0zm.033 11.992a1.054 1.054 0 0 0-1.055 1.055v1.957a1.054 1.054 0 0 0 1.055 1.055c.581 0 1.054-.472 1.054-1.055v-1.957c0-.583-.473-1.055-1.054-1.055z"/></svg>`,
    redhat: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#EE0000" d="M16.009 13.386c1.577 0 3.86-.326 3.86-2.202 0-1.078-.695-1.645-2.122-1.978l-1.478-.313c-.667-.134-1.026-.401-1.026-.8 0-.534.467-.801 1.2-.801.867 0 1.667.267 2.334.667l.866-1.467c-.8-.533-1.866-.933-3.133-.933-1.733 0-3.333.8-3.333 2.533 0 1.067.666 1.734 2.066 2.067l1.4.334c.734.133 1.134.4 1.134.8 0 .533-.534.866-1.534.866-.933 0-2-.333-2.666-.866l-.934 1.4c.934.733 2.2 1.133 3.466 1.133zM7.342 9.386h1.8l-.533 2.534h2.133l.534-2.534h1.8l-1.334 6.4h-1.8l.534-2.533H8.409l-.534 2.533h-1.8z"/></svg>`,
    centos: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#262577" d="M12.076.066L7.124 5.02 1.992 10.012l5.062 5.008 4.954 4.918 5.061-5.008 4.94-4.918-5.008-5.063zM12.01 1.6l3.476 3.478-3.476 3.476-3.48-3.474zm6.576 6.534l3.48 3.478-3.48 3.48-3.48-3.478zm-13.176.066l3.478 3.48-3.478 3.478-3.48-3.474zm6.598 6.532l3.477 3.478-3.476 3.476-3.48-3.476z"/><path fill="#9CCD2A" d="M12.01 1.6l3.476 3.478-3.476 3.476-3.48-3.474z"/><path fill="#262577" d="M5.41 8.134l3.478 3.48-3.478 3.478-3.48-3.474z"/><path fill="#F8E042" d="M18.588 8.198l3.48 3.478-3.48 3.48-3.48-3.478z"/><path fill="#EF5A27" d="M12.008 14.732l3.477 3.478-3.476 3.476-3.48-3.476z"/></svg>`,
    archlinux: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#1793D1" d="M11.985.06c-.667 1.594-1.091 2.727-1.768 4.337-.348.855-.95 1.752-1.478 2.609 1.097 1.135 2.529 2.462 4.559 4.026-.644-.215-2.062-.91-3.216-1.53-.902.899-1.943 1.97-3.29 3.476.406-.057 1.198-.169 2.288-.234-.63.792-1.113 1.47-1.88 2.702 1.17-.218 2.091-.353 3.126-.407-.38.762-.718 1.496-1.1 2.453.873-.135 1.593-.215 2.564-.24a26.32 26.32 0 0 0-1.182 2.998c.888-.034 1.788-.034 2.738.034-.283.792-.55 1.594-.866 2.57.93.057 1.863.164 2.887.34-.267.691-.508 1.366-.758 2.148 2.155.5 3.98 1.144 6.295 2.148-.766-1.378-1.314-2.445-1.864-3.479-1.038-.204-1.939-.34-2.82-.424.329-.838.65-1.61 1.004-2.444-.947-.11-1.734-.169-2.605-.178.362-.91.708-1.754 1.088-2.702-1.03-.024-1.838.016-2.763.132.388-.94.742-1.787 1.147-2.754-1.097.112-1.939.243-2.845.456.632-1.133 1.155-2.072 1.753-3.09-1.073.111-1.955.247-2.912.457 1.097-1.295 2.079-2.396 2.971-3.337-.948.285-1.73.53-2.68.896.988-1.502 1.838-2.763 2.531-3.751-1.222.521-2.177.991-3.15 1.545C13.057 2.7 12.67 1.525 12.015.06z"/></svg>`,
    manjaro: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#35BF5C" d="M0 0v24h6.6V6.6H24V0zm8.8 8.8V24h6.6V8.8zm8.8 0V24H24V8.8z"/></svg>`,
    opensuse: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#73BA25" d="M10.724 3.002C5.893 3.222 2 7.26 2 12.148c0 5.018 4.078 9.096 9.095 9.096 3.907 0 7.237-2.474 8.515-5.935 1.1 0 2.385-1.187 2.385-2.655 0-1.467-.919-2.656-2.051-2.656-1.133 0-2.052 1.188-2.052 2.656 0 .553.146 1.055.388 1.474-1.14-1.948-1.908-4.143-3.87-4.143-1.54 0-2.788 1.247-2.788 2.787 0 1.54 1.247 2.787 2.787 2.787.66 0 1.263-.232 1.742-.616-1.049 2.414-3.439 4.101-6.217 4.101-3.75 0-6.793-3.044-6.793-6.793 0-3.75 3.043-6.793 6.793-6.793 1.02 0 1.984.23 2.851.636.256-.45.65-.827 1.13-1.07-1.202-.508-2.52-.788-3.908-.788-.116 0-.23.002-.345.006zm3.603 6.866c.973 0 1.762.79 1.762 1.762 0 .973-.79 1.762-1.762 1.762-.973 0-1.762-.79-1.762-1.762 0-.973.79-1.762 1.762-1.762z"/></svg>`,
    gentoo: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#54487A" d="M11.826 0C5.303 0 0 5.303 0 11.826c0 6.523 5.303 11.826 11.826 11.826 6.522 0 11.825-5.303 11.825-11.826C23.651 5.303 18.348 0 11.826 0zm3.73 4.826c-2.923 0-5.398 1.823-6.392 4.394 1.313.46 2.455 1.284 3.295 2.362 1.37-1.49 3.042-2.59 4.915-3.174a8.51 8.51 0 0 0-1.817-3.582zm-7.358 5.17c-.787 2.056-.597 4.403.654 6.38a8.492 8.492 0 0 1 3.297-2.45 6.444 6.444 0 0 0-.98-1.922 6.448 6.448 0 0 0-2.97-2.008zm8.62.37c-1.85.512-3.5 1.546-4.83 2.97a8.497 8.497 0 0 1 3.217 2.515c1.5-1.314 2.479-3.173 2.637-5.235a8.509 8.509 0 0 0-1.024-.25zm-4.194 3.737a6.446 6.446 0 0 0-2.66 1.965c1.13 1.014 2.53 1.708 4.06 1.966a6.44 6.44 0 0 0-1.4-3.931z"/></svg>`,
    mint: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#87CF3E" d="M11.998 2C6.473 2 2 6.473 2 12s4.473 10 9.998 10C17.523 22 22 17.527 22 12S17.523 2 11.998 2zm3.592 14.178H8.41c-.77 0-1.395-.624-1.395-1.394V9.216c0-.77.625-1.394 1.395-1.394h2.785c.77 0 1.395.625 1.395 1.394v.697h2.09v-.697a2.09 2.09 0 0 0-2.09-2.09H9.106a2.09 2.09 0 0 0-2.09 2.09v4.872a2.09 2.09 0 0 0 2.09 2.09h5.787a2.09 2.09 0 0 0 2.09-2.09v-1.393h-1.393v1.393c0 .385-.312.697-.697.697z"/></svg>`,
    alpine: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#0D597F" d="M5.998 1.607L0 12l5.998 10.393h12.004L24 12 18.002 1.607zm.944 4.14l4.675 4.042 1.077-.932 1.854 1.605-1.854 1.604-1.077-.931-4.675 4.04L4.2 12zm11.07 2.79l1.79 1.55-1.79 1.55-1.789-1.55zm-1.013 2.781L12.2 15.072l-1.076-.932-1.854 1.606 1.854 1.604 1.076-.931 4.8 4.153 2.742-4.75L17 12.318z"/></svg>`,
    kali: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#557C94" d="M12.018 2C6.499 2 2.016 6.483 2.016 12S6.5 22 12.018 22c5.518 0 9.982-4.483 9.982-10S17.536 2 12.018 2zm5.665 14.476c-.394.564-1.09 1.044-1.724 1.044-.634 0-1.118-.282-1.456-.733l-2.483-3.32-2.483 3.32c-.338.45-.822.733-1.456.733-.634 0-1.33-.48-1.724-1.044-.394-.564-.478-1.354-.127-1.918l3.156-4.221-3.156-4.221c-.35-.564-.267-1.354.127-1.918.394-.564 1.09-1.044 1.724-1.044.634 0 1.118.282 1.456.733l2.483 3.32 2.483-3.32c.338-.45.822-.733 1.456-.733.634 0 1.33.48 1.724 1.044.394.564.478 1.354.127 1.918l-3.156 4.221 3.156 4.221c.35.564.267 1.354-.127 1.918z"/></svg>`,
    nixos: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#5277C3" d="M7.352 1.592l-1.364.034L8.94 6.82l-2.71 4.636L4.754 11.5l1.2-2.064-3.254.09-1.367.033.585 1.006L.376 13.5l2.86 4.908H5.76l-.5-.863L6.74 15H11L9.592 12.5h4.033l2.394-4.091-2.56-.073-1.2 2.064V7.346L13.64 1.55l-1.48.04-.003 2.455-1.64 2.833-1.643-2.84zm5.675 2.288l1.365-.034 3.47 5.96-2.71 4.637L13.677 14.5l1.2-2.063-3.254.09-1.366.034.585 1.006-4.178 7.155 2.862 4.908h2.524l-.5-.863L13.74 18H18l-1.407-2.5h4.033l2.394-4.092-2.561-.072-1.199 2.063V10.346l-1.64-5.955-1.48.04-.003 2.455-1.64 2.833z"/></svg>`,
    raspberrypi: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#A22846" d="M12 0C6.287 0 2.04 3.328 2.04 8.497c0 3.078 1.875 5.39 3.966 6.423-.086.187-.16.381-.224.58-.82 2.571.013 5.299 1.907 6.243.168.084.342.15.52.2.59.166 1.21.19 1.803.07.27.397.623.744 1.053 1.012a4.18 4.18 0 0 0 1.955.5c.84.002 1.662-.24 2.376-.7.28-.181.529-.399.74-.648a4.35 4.35 0 0 0 1.94.449 4.18 4.18 0 0 0 1.955-.5c.43-.268.784-.615 1.053-1.012a4.14 4.14 0 0 0 1.803-.07c.178-.05.352-.116.52-.2 1.894-.944 2.727-3.672 1.907-6.244-.064-.198-.138-.392-.224-.579 2.091-1.033 3.966-3.345 3.966-6.423C22.046 3.328 17.713 0 12 0z"/></svg>`,
    
    // === 其他操作系统图标 ===
    freebsd: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M23.682.252c-.174-.164-.466-.16-.652.011l-1.096 1.012c-.046.042-.082.092-.108.147C20.47.527 18.813 0 17.027 0c-2.19 0-4.22.754-5.822 2.016a8.95 8.95 0 0 0-3.89 2.453c-.073-.007-.144-.02-.218-.02-2.59 0-4.698 2.12-4.698 4.724s2.108 4.723 4.698 4.723c.084 0 .165-.016.248-.021a8.905 8.905 0 0 0 2.416 3.86C7.818 19.138 6.066 21.152 3.72 22.39c-.248.13-.347.433-.222.676.09.173.268.273.45.273.077 0 .156-.017.228-.054 2.637-1.395 4.624-3.648 5.868-5.396a10.887 10.887 0 0 0 2.982.416c6.028 0 10.974-4.946 10.974-10.974 0-2.612-.932-5.009-2.476-6.884l1.17-1.08c.195-.18.208-.484.028-.68zM7.097 12.373c-1.755 0-3.175-1.42-3.175-3.173s1.42-3.174 3.175-3.174c1.754 0 3.174 1.42 3.174 3.174s-1.42 3.173-3.174 3.173z"/></svg>`,
    netbsd: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M.003 5.846L8.17 12 .003 18.154V24l11.997-9.6L24 24v-5.846L15.83 12 24 5.846V0L12 9.6.003 0z"/></svg>`,
    openbsd: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm0 1.5c4.687 0 8.5 3.813 8.5 8.5s-3.813 8.5-8.5 8.5-8.5-3.813-8.5-8.5S7.313 3.5 12 3.5zm-3 5c-.55 0-1 .45-1 1v1c0 .55.45 1 1 1s1-.45 1-1v-1c0-.55-.45-1-1-1zm6 0c-.55 0-1 .45-1 1v1c0 .55.45 1 1 1s1-.45 1-1v-1c0-.55-.45-1-1-1zm-3 4c-1.93 0-3.5 1.12-3.5 2.5S10.07 17.5 12 17.5s3.5-1.12 3.5-2.5S13.93 12.5 12 12.5z"/></svg>`,
    chromeos: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 15c-2.76 0-5-2.24-5-5h3c0 1.1.9 2 2 2s2-.9 2-2-.9-2-2-2H4.51C5.54 6.14 8.47 4 12 4c4.42 0 8 3.58 8 8 0 4.07-3.05 7.44-7 7.93V17c-1.1 0-2-.9-2-2h-3c0 2.76 2.24 5 5 5 .34 0 .67-.03 1-.09z"/></svg>`,
    haiku: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2L2 12h3v10h14V12h3zm0 3.4L18.6 12H16v8h-2v-5c0-1.1-.9-2-2-2s-2 .9-2 2v5H8v-8H5.4z"/></svg>`,
    solaris: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 3h2v2h-2zm-4 2h2v2H7zm8 0h2v2h-2zm-8 4h2v2H7zm4 0h2v2h-2zm4 0h2v2h-2zm-8 4h2v2H7zm4 0h2v2h-2zm4 0h2v2h-2zm-4 4h2v2h-2z"/></svg>`,
    
    // === 移动设备/平台图标 ===
    ios: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"/></svg>`,
    
    // === 设备类型图标 ===
    phone: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="5" y="2" width="14" height="20" rx="2" ry="2"/><line x1="12" y1="18" x2="12.01" y2="18"/></svg>`,
    tablet: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="4" y="2" width="16" height="20" rx="2" ry="2"/><line x1="12" y1="18" x2="12.01" y2="18"/></svg>`,
    desktop: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"/><line x1="8" y1="21" x2="16" y2="21"/><line x1="12" y1="17" x2="12" y2="21"/></svg>`,
    laptop: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0l1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16"/></svg>`,
    server: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="8" rx="2" ry="2"/><rect x="2" y="14" width="20" height="8" rx="2" ry="2"/><line x1="6" y1="6" x2="6.01" y2="6"/><line x1="6" y1="18" x2="6.01" y2="18"/></svg>`,
    watch: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="7"/><polyline points="12 9 12 12 13.5 13.5"/><path d="M16.51 17.35l-.35 3.83a2 2 0 0 1-2 1.82H9.83a2 2 0 0 1-2-1.82l-.35-3.83m.01-10.7l.35-3.83A2 2 0 0 1 9.83 1h4.35a2 2 0 0 1 2 1.82l.35 3.83"/></svg>`,
    tv: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="7" width="20" height="15" rx="2" ry="2"/><polyline points="17 2 12 7 7 2"/></svg>`,
    car: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16zm11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5 11l1.5-4.5h11L19 11H5z"/></svg>`,
    gamepad: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M21 6H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-10 7H8v3H6v-3H3v-2h3V8h2v3h3v2zm4.5 2c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm4-3c-.83 0-1.5-.67-1.5-1.5S18.67 9 19.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/></svg>`,
    
    // === 包格式/文件类型图标 ===
    rpm: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"/></svg>`,
    deb: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2L2 7v10l10 5 10-5V7L12 2zm0 2.18l6.9 3.45L12 11.08 5.1 7.63 12 4.18zM4 8.9l7 3.5v7.7l-7-3.5V8.9zm9 11.2v-7.7l7-3.5v7.7l-7 3.5z"/></svg>`,
    flatpak: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2L2 7l10 5 10-5-10-5zm0 7.5L5.27 6.75 12 3.98l6.73 2.77L12 9.5zM2 17l10 5 10-5v-5l-10 5-10-5v5z"/></svg>`,
    snap: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M13.804 1L3 11.804v1.392L13.804 24h1.392L22 14.196l-.001-1.392L12.804 3.608V1h1zm-.001 4.025l6.974 6.974-6.974 6.975V12L7.828 6z"/></svg>`,
    portable: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/><polyline points="7.5 4.21 12 6.81 16.5 4.21"/><polyline points="7.5 19.79 7.5 14.6 3 12"/><polyline points="21 12 16.5 14.6 16.5 19.79"/><polyline points="3.27 6.96 12 12.01 20.73 6.96"/><line x1="12" y1="22.08" x2="12" y2="12"/></svg>`,
    installer: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3v12"/><path d="m8 11 4 4 4-4"/><path d="M8 5H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-4"/></svg>`,
    zip: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"/><line x1="12" y1="11" x2="12" y2="17"/><line x1="9" y1="14" x2="15" y2="14"/></svg>`,
    tarball: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 8v13H3V8"/><path d="M1 3h22v5H1z"/><path d="M10 12h4"/></svg>`,
    dmg: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-12.5c-2.49 0-4.5 2.01-4.5 4.5s2.01 4.5 4.5 4.5 4.5-2.01 4.5-4.5-2.01-4.5-4.5-4.5zm0 5.5c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"/></svg>`,
    exe: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"/></svg>`,
    msi: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 14l-5-5 1.41-1.41L12 14.17l4.59-4.58L18 11l-6 6z"/></svg>`,
    pkg: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-6 10H6v-2h8v2zm4-4H6v-2h12v2z"/></svg>`,
    apk: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M17.6 11.4L19 10l-1.4-1.4-1.2 1.2c-.8-.6-1.8-.9-2.9-.9-1.1 0-2.1.3-2.9.9l-1.2-1.2L8 10l1.4 1.4c-.6.8-.9 1.8-.9 2.9H7v2h1.5c0 1.1.3 2.1.9 2.9L8 20.6 9.4 22l1.2-1.2c.8.6 1.8.9 2.9.9 1.1 0 2.1-.3 2.9-.9l1.2 1.2 1.4-1.4-1.4-1.4c.6-.8.9-1.8.9-2.9H20v-2h-1.5c0-1.1-.3-2.1-.9-2.9zm-4.1 7.1c-2 0-3.5-1.6-3.5-3.5s1.6-3.5 3.5-3.5 3.5 1.6 3.5 3.5-1.5 3.5-3.5 3.5zM13.5 2l-1 1L9 6.3V8h3.5v-.8L10 5l2-2h4l-2 2-2.5 2.2V8H15V6.3L11.5 3l-1-1h3z"/></svg>`,
    ipa: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M17 1.01L7 1c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14z"/></svg>`,
    
    // === 架构图标 ===
    x64: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M9 4v16h2v-6h2v6h2V4H9zm0 4h4v4H9z"/></svg>`,
    x86: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M7 4v16h2v-6h2v6h2V4H7zm0 4h4v4H7z"/></svg>`,
    arm: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>`,
    arm64: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M4 6h18V4H4c-1.1 0-2 .9-2 2v11H0v3h14v-3H4V6zm19 2h-6c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1zm-1 9h-4v-7h4v7z"/></svg>`,
    universal: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/></svg>`,
    riscv: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2L4 5v6.09c0 5.05 3.41 9.76 8 10.91 4.59-1.15 8-5.86 8-10.91V5l-8-3zm-1.06 13.54L7.4 12l1.41-1.41 2.12 2.12 4.24-4.24 1.41 1.41-5.64 5.66z"/></svg>`,
    mips: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M15 9H9v6h6V9zm-2 4h-2v-2h2v2zm8-2V9h-2V7c0-1.1-.9-2-2-2h-2V3h-2v2h-2V3H9v2H7c-1.1 0-2 .9-2 2v2H3v2h2v2H3v2h2v2c0 1.1.9 2 2 2h2v2h2v-2h2v2h2v-2h2c1.1 0 2-.9 2-2v-2h2v-2h-2v-2h2zm-4 6H7V7h10v10z"/></svg>`,
    ppc: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-5-9h10v2H7z"/></svg>`,
    ppc64: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-5-9h10v2H7z"/></svg>`,
    s390x: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 14c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z"/></svg>`,
    i386: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M15 9H9v6h6V9zm-2 4h-2v-2h2v2zm8-2V9h-2V7c0-1.1-.9-2-2-2h-2V3h-2v2h-2V3H9v2H7c-1.1 0-2 .9-2 2v2H3v2h2v2H3v2h2v2c0 1.1.9 2 2 2h2v2h2v-2h2v2h2v-2h2c1.1 0 2-.9 2-2v-2h2v-2h-2v-2h2zm-4 6H7V7h10v10z"/></svg>`,
    amd64: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M15 9H9v6h6V9zm-2 4h-2v-2h2v2zm8-2V9h-2V7c0-1.1-.9-2-2-2h-2V3h-2v2h-2V3H9v2H7c-1.1 0-2 .9-2 2v2H3v2h2v2H3v2h2v2c0 1.1.9 2 2 2h2v2h2v-2h2v2h2v-2h2c1.1 0 2-.9 2-2v-2h2v-2h-2v-2h2zm-4 6H7V7h10v10z"/></svg>`,
    armv7: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M17 16l-4-4V8.82C14.16 8.4 15 7.3 15 6c0-1.66-1.34-3-3-3S9 4.34 9 6c0 1.3.84 2.4 2 2.82V12l-4 4H3v5h5v-3.05l4-4.2 4 4.2V21h5v-5h-4z"/></svg>`,
    armhf: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M17 16l-4-4V8.82C14.16 8.4 15 7.3 15 6c0-1.66-1.34-3-3-3S9 4.34 9 6c0 1.3.84 2.4 2 2.82V12l-4 4H3v5h5v-3.05l4-4.2 4 4.2V21h5v-5h-4z"/></svg>`,
    aarch64: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M4 6h18V4H4c-1.1 0-2 .9-2 2v11H0v3h14v-3H4V6zm19 2h-6c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1zm-1 9h-4v-7h4v7z"/></svg>`,
    loongarch: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17.93c3.95-.49 7-3.85 7-7.93 0-.62-.08-1.21-.21-1.79L15 15v1c0 1.1-.9 2-2 2v1.93zM5.1 17.39C3.8 15.97 3 14.08 3 12c0-3.35 2.07-6.22 5-7.41V5c0 1.1.9 2 2 2h2v2c0 .55.45 1 1 1h3v2h-6c-.55 0-1 .45-1 1v3H7c-.9 0-1.64.58-1.9 1.39z"/></svg>`,
    
    // === 更多压缩/归档格式图标 ===
    '7z': `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm-1 9h-2v2h2v2h-2v2h-2v-2H7v-2h2v-2H7V9h2V7h2v2h2v2zm0-4V3.5L18.5 9H13z"/></svg>`,
    targz: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 14H8v-2h4v2zm4-4H8v-2h8v2zm0-4H8V7h8v2z"/></svg>`,
    tarbz2: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 14H8v-2h4v2zm4-4H8v-2h8v2zm0-4H8V7h8v2z"/></svg>`,
    tarxz: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 14H8v-2h4v2zm4-4H8v-2h8v2zm0-4H8V7h8v2z"/></svg>`,
    tarzst: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 14H8v-2h4v2zm4-4H8v-2h8v2zm0-4H8V7h8v2z"/></svg>`,
    rar: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm-1 9v2h-2v-2H9V9h2V7h2v2h2v2h-2zm0-4V3.5L18.5 9H13z"/></svg>`,
    gz: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm0 16H8v-2h6v2zm0-4H8v-2h6v2zm-2-4V3.5L17.5 9H12z"/></svg>`,
    bz2: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm0 16H8v-2h6v2zm0-4H8v-2h6v2zm-2-4V3.5L17.5 9H12z"/></svg>`,
    xz: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm0 16H8v-2h6v2zm0-4H8v-2h6v2zm-2-4V3.5L17.5 9H12z"/></svg>`,
    zst: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm0 16H8v-2h6v2zm0-4H8v-2h6v2zm-2-4V3.5L17.5 9H12z"/></svg>`,
    lz4: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm0 16H8v-2h6v2zm0-4H8v-2h6v2zm-2-4V3.5L17.5 9H12z"/></svg>`,
    lzma: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm0 16H8v-2h6v2zm0-4H8v-2h6v2zm-2-4V3.5L17.5 9H12z"/></svg>`,
    cab: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-2 6h-2v2h2v2h-2v2h-2v-2h2v-2h-2v-2h2v-2h-2V8h2v2h2v2z"/></svg>`,
    iso: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-12.5c-2.49 0-4.5 2.01-4.5 4.5s2.01 4.5 4.5 4.5 4.5-2.01 4.5-4.5-2.01-4.5-4.5-4.5zm0 5.5c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"/></svg>`,
    img: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/></svg>`,
    
    // === 更多可执行文件/安装包格式 ===
    bin: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/></svg>`,
    run: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M8 5v14l11-7z"/></svg>`,
    sh: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M20 19V7H4v12h16m0-14a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V7c0-1.11.89-2 2-2h16M7 9h2l2 2-2 2H7l2-2-2-2m6 0h4v2h-4v2h4v2h-4v-2h-2V9h2z"/></svg>`,
    bat: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M20 19V7H4v12h16m0-14a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V7c0-1.11.89-2 2-2h16M7 9h2l2 2-2 2H7l2-2-2-2m6 0h4v2h-4v2h4v2h-4v-2h-2V9h2z"/></svg>`,
    cmd: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M20 19V7H4v12h16m0-14a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V7c0-1.11.89-2 2-2h16M7 9h2l2 2-2 2H7l2-2-2-2m6 0h4v2h-4v2h4v2h-4v-2h-2V9h2z"/></svg>`,
    ps1: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M20 19V7H4v12h16m0-14a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V7c0-1.11.89-2 2-2h16M7 9h2l2 2-2 2H7l2-2-2-2m6 0h4v2h-4v2h4v2h-4v-2h-2V9h2z"/></svg>`,
    
    // === 代码托管平台图标 ===
    github: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>`,
    gitlab: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M23.955 13.587l-1.342-4.135-2.664-8.189a.455.455 0 0 0-.867 0L16.418 9.45H7.582L4.918 1.263a.455.455 0 0 0-.867 0L1.386 9.45.045 13.587a.924.924 0 0 0 .331 1.023L12 23.054l11.624-8.443a.92.92 0 0 0 .331-1.024"/></svg>`,
    gitee: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.475 2 2 6.475 2 12a9.994 9.994 0 0 0 6.838 9.488c.5.087.687-.213.687-.476 0-.237-.013-1.024-.013-1.862-2.512.463-3.162-.612-3.362-1.175-.113-.288-.6-1.175-1.025-1.413-.35-.187-.85-.65-.013-.662.788-.013 1.35.725 1.538 1.025.9 1.512 2.338 1.087 2.912.825.088-.65.35-1.087.638-1.337-2.225-.25-4.55-1.113-4.55-4.938 0-1.088.387-1.987 1.025-2.688-.1-.25-.45-1.275.1-2.65 0 0 .837-.262 2.75 1.026a9.28 9.28 0 0 1 2.5-.338c.85 0 1.7.112 2.5.337 1.912-1.3 2.75-1.024 2.75-1.024.55 1.375.2 2.4.1 2.65.637.7 1.025 1.587 1.025 2.687 0 3.838-2.337 4.688-4.562 4.938.362.312.675.912.675 1.85 0 1.337-.013 2.412-.013 2.75 0 .262.188.574.688.474A10.016 10.016 0 0 0 22 12c0-5.525-4.475-10-10-10z"/></svg>`,
    bitbucket: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M.778 1.213a.768.768 0 0 0-.768.892l3.263 19.81c.084.5.515.868 1.022.873H19.95a.772.772 0 0 0 .77-.646l3.27-20.03a.768.768 0 0 0-.768-.891zM14.52 15.53H9.522L8.17 8.466h7.561z"/></svg>`,
    sourcehut: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/></svg>`,
    codeberg: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M11.955.49A12 12 0 0 0 0 12.49a12 12 0 0 0 1.832 6.373L11.838 5.928a.187.187 0 0 1 .324 0l10.006 12.935A12 12 0 0 0 24 12.49a12 12 0 0 0-12-12 12 12 0 0 0-.045 0zm.375 6.467l4.416 16.553a12 12 0 0 0 5.137-4.213z"/></svg>`,
    git: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M23.546 10.93L13.067.452a1.55 1.55 0 0 0-2.188 0L8.708 2.627l2.76 2.76a1.838 1.838 0 0 1 2.327 2.341l2.658 2.66a1.838 1.838 0 0 1 1.9 3.039 1.837 1.837 0 0 1-2.6 0 1.846 1.846 0 0 1-.404-1.996L12.86 8.955v6.525c.176.086.342.203.488.348a1.848 1.848 0 0 1 0 2.6 1.844 1.844 0 0 1-2.609 0 1.834 1.834 0 0 1 0-2.598c.182-.18.387-.316.605-.406V8.835a1.834 1.834 0 0 1-.996-2.41L7.636 3.7.45 10.881c-.6.605-.6 1.584 0 2.189l10.48 10.477a1.545 1.545 0 0 0 2.186 0l10.43-10.43a1.544 1.544 0 0 0 0-2.187"/></svg>`,
    
    // === 浏览器图标 ===
    chrome: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 15c-2.76 0-5-2.24-5-5h3c0 1.1.9 2 2 2s2-.9 2-2-.9-2-2-2H4.51C5.54 6.14 8.47 4 12 4c4.42 0 8 3.58 8 8 0 4.07-3.05 7.44-7 7.93V17c-1.1 0-2-.9-2-2h-3c0 2.76 2.24 5 5 5 .34 0 .67-.03 1-.09z"/></svg>`,
    firefox: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5.32 12.89c-.3.95-.93 1.77-1.77 2.31-.84.54-1.84.8-2.92.8-1.43 0-2.73-.5-3.75-1.35.31.04.62.05.93.05 1.14 0 2.2-.31 3.08-.85-.53-.01-1.01-.18-1.41-.47-.4-.29-.7-.69-.85-1.15.24.04.49.04.73.01.29-.04.57-.12.82-.24-.57-.12-1.07-.41-1.44-.83-.37-.42-.59-.95-.62-1.51v-.04c.35.19.73.31 1.14.33-.56-.37-.93-.99-.93-1.69 0-.37.1-.72.28-1.02.62.76 1.41 1.38 2.31 1.82.9.44 1.9.68 2.93.72-.07-.3-.1-.61-.1-.92 0-.71.27-1.37.75-1.87.48-.5 1.13-.78 1.82-.78.73 0 1.38.29 1.85.77.43-.08.85-.24 1.23-.46-.14.44-.44.82-.83 1.05.39-.04.76-.14 1.11-.29-.26.39-.58.73-.96 1.01.01.08.01.17.01.25 0 2.54-1.94 5.47-5.48 5.47z"/></svg>`,
    safari: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1.31-8.69l1.75-4.37 1.75 4.37 4.37 1.75-4.37 1.75-1.75 4.37-1.75-4.37-4.37-1.75z"/></svg>`,
    edge: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M21.86 17.86q.14 0 .25.12.1.13.1.25t-.11.33l-.32.46-.43.53-.44.5q-.21.25-.38.42l-.22.23q-.58.53-1.34 1.04-.76.51-1.6.91-.86.4-1.74.64t-1.67.24q-.9 0-1.69-.28-.8-.28-1.48-.78-.68-.5-1.22-1.17-.53-.66-.92-1.44-.38-.77-.58-1.6-.2-.83-.2-1.67 0-1 .32-1.96.33-.97.87-1.8.14.95.55 1.77.41.82 1.02 1.5.6.68 1.38 1.21.78.54 1.64.9.86.36 1.77.56.92.2 1.8.2 1.04 0 2-.26.95-.26 1.85-.68.89-.43 1.67-1.04l.58-.5z"/></svg>`,
    opera: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-2.16 0-4.09-.87-5.5-2.27.98-1.12 1.5-2.96 1.5-5.23s-.52-4.11-1.5-5.23C7.91 5.87 9.84 5 12 5s4.09.87 5.5 2.27c-.98 1.12-1.5 2.96-1.5 5.23s.52 4.11 1.5 5.23C16.09 19.13 14.16 20 12 20z"/></svg>`,
    brave: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2L3 7l1.63 6.13L12 22l7.37-8.87L21 7l-9-5zm0 2.18l6.9 3.82L12 14.18 5.1 8l6.9-3.82z"/></svg>`,
    
    // === 云服务/存储图标 ===
    aws: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M6.763 10.036c0 .296.032.535.088.71.064.176.144.368.256.576.04.063.056.127.056.183 0 .08-.048.16-.152.24l-.503.335a.383.383 0 0 1-.208.072c-.08 0-.16-.04-.239-.112a2.47 2.47 0 0 1-.287-.375 6.18 6.18 0 0 1-.248-.471c-.622.734-1.405 1.101-2.347 1.101-.67 0-1.205-.191-1.596-.574-.391-.384-.59-.894-.59-1.533 0-.678.239-1.23.726-1.644.487-.415 1.133-.623 1.955-.623.272 0 .551.024.846.064.296.04.6.104.918.176v-.583c0-.607-.127-1.03-.375-1.277-.255-.248-.686-.367-1.3-.367-.28 0-.568.031-.863.103-.295.072-.583.16-.862.272a2.287 2.287 0 0 1-.28.104.488.488 0 0 1-.127.023c-.112 0-.168-.08-.168-.247v-.391c0-.128.016-.224.056-.28a.597.597 0 0 1 .224-.167c.279-.144.614-.264 1.005-.36a4.84 4.84 0 0 1 1.246-.151c.95 0 1.644.216 2.091.647.439.43.662 1.085.662 1.963v2.586zm-3.24 1.214c.263 0 .534-.048.822-.144.287-.096.543-.271.758-.51.128-.152.224-.32.272-.512.047-.191.08-.423.08-.694v-.335a6.66 6.66 0 0 0-.735-.136 6.02 6.02 0 0 0-.75-.048c-.535 0-.926.104-1.19.32-.263.215-.39.518-.39.917 0 .375.095.655.295.846.191.2.47.296.838.296z"/></svg>`,
    azure: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M5.483 21.3H24L14.025 4.013l-3.038 8.347 5.836 6.938L5.483 21.3zM13.23 2.7L6.105 8.677 0 19.253h5.505v.014L13.23 2.7z"/></svg>`,
    gcp: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12.19 2.38a9.344 9.344 0 0 0-9.234 6.893c.053-.02-.055.013 0 0-3.875 2.551-3.922 8.11-.247 10.941l.006-.007-.007.03a6.717 6.717 0 0 0 4.077 1.356h5.173l.03.03h5.192c6.687.053 9.376-8.605 3.835-12.35a9.365 9.365 0 0 0-8.825-6.893z"/></svg>`,
    docker: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M13.983 11.078h2.119a.186.186 0 0 0 .186-.185V9.006a.186.186 0 0 0-.186-.186h-2.119a.185.185 0 0 0-.185.185v1.888c0 .102.083.185.185.185m-2.954-5.43h2.118a.186.186 0 0 0 .186-.186V3.574a.186.186 0 0 0-.186-.185h-2.118a.185.185 0 0 0-.185.185v1.888c0 .102.082.185.185.186m0 2.716h2.118a.187.187 0 0 0 .186-.186V6.29a.186.186 0 0 0-.186-.185h-2.118a.185.185 0 0 0-.185.185v1.887c0 .102.082.185.185.186m-2.93 0h2.12a.186.186 0 0 0 .184-.186V6.29a.185.185 0 0 0-.185-.185H8.1a.185.185 0 0 0-.185.185v1.887c0 .102.083.185.185.186m-2.964 0h2.119a.186.186 0 0 0 .185-.186V6.29a.185.185 0 0 0-.185-.185H5.136a.186.186 0 0 0-.186.185v1.887c0 .102.084.185.186.186m5.893 2.715h2.118a.186.186 0 0 0 .186-.185V9.006a.186.186 0 0 0-.186-.186h-2.118a.185.185 0 0 0-.185.185v1.888c0 .102.082.185.185.185m-2.93 0h2.12a.185.185 0 0 0 .184-.185V9.006a.185.185 0 0 0-.184-.186h-2.12a.185.185 0 0 0-.184.185v1.888c0 .102.083.185.185.185m-2.964 0h2.119a.185.185 0 0 0 .185-.185V9.006a.185.185 0 0 0-.185-.186h-2.119a.185.185 0 0 0-.185.185v1.888c0 .102.084.185.185.185m-2.92 0h2.12a.185.185 0 0 0 .184-.185V9.006a.185.185 0 0 0-.184-.186h-2.12a.186.186 0 0 0-.185.185v1.888c0 .102.084.185.185.185M23.763 9.89c-.065-.051-.672-.51-1.954-.51-.338.001-.676.03-1.01.087-.248-1.7-1.653-2.53-1.716-2.566l-.344-.199-.226.327c-.284.438-.49.922-.612 1.43-.23.97-.09 1.882.403 2.661-.595.332-1.55.413-1.744.42H.751a.751.751 0 0 0-.75.748 11.376 11.376 0 0 0 .692 4.062c.545 1.428 1.355 2.48 2.41 3.124 1.18.723 3.1 1.137 5.275 1.137.983.003 1.963-.086 2.93-.266a12.248 12.248 0 0 0 3.823-1.389c.98-.567 1.86-1.288 2.61-2.136 1.252-1.418 1.998-2.997 2.553-4.4h.221c1.372 0 2.215-.549 2.68-1.009.309-.293.55-.65.707-1.046l.098-.288z"/></svg>`,
    kubernetes: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M10.204 14.35l.007.01-.999 2.413a5.171 5.171 0 0 1-2.075-2.597l2.578-.437.004.005a.44.44 0 0 1 .484.606zm-.833-2.129a.44.44 0 0 0 .173-.756l.002-.011L7.585 9.7a5.143 5.143 0 0 0-.73 3.255l2.514-.725.002-.009zm1.145-1.98a.44.44 0 0 0 .699-.337l.01-.005.15-2.62a5.144 5.144 0 0 0-3.01 1.442l2.147 1.523.004-.002zm.76 2.75l.723.349.722-.347.18-.78-.5-.623h-.804l-.5.623zm1.166-1.167a.44.44 0 0 0 .695.337l.01.005 2.147-1.523a5.144 5.144 0 0 0-3.01-1.442l.15 2.62.008.003zm1.653 1.93a.44.44 0 0 0 .176.755l.003.01 2.514.725a5.143 5.143 0 0 0-.73-3.255l-1.96 1.754-.003.011zm-.094 1.372a.44.44 0 0 0-.486.606l.004.005.004.01 2.578.437a5.171 5.171 0 0 1-2.075-2.597l-.999 2.413-.006.01.98.116zm-3.3 4.213c.476.576 1.06.98 1.715 1.208l-.07-2.318-.004-.012a.44.44 0 0 0-.776-.118l-.004.012-1.46 2.027c.188.053.38.1.6.145v-.944zm5.234-1.063l-1.46-2.027-.003-.012a.44.44 0 0 0-.776.118l-.004.012-.07 2.318a4.351 4.351 0 0 0 1.714-1.208c.22-.044.411-.092.6-.145zm-2.92-10.81c-.32-.31-.8-.442-1.178-.442s-.857.132-1.178.443L12 7.02l1.997-1.75.005.005z"/></svg>`,
    
    // === 社交/通讯图标 ===
    discord: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"/></svg>`,
    telegram: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/></svg>`,
    slack: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"/></svg>`,
    twitter: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>`,
    
    // === 其他常用图标 ===
    release: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2L2 7l10 5 10-5-10-5z"/><path d="M2 17l10 5 10-5"/><path d="M2 12l10 5 10-5"/></svg>`,
    changelog: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>`,
    source: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/></svg>`,
    docs: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/></svg>`,
    wiki: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 3L1 9l11 6 9-4.91V17h2V9M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82z"/></svg>`,
    api: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M7 7H5a2 2 0 0 0-2 2v8h2v-4h2v4h2V9a2 2 0 0 0-2-2m0 4H5V9h2m7-2h-4v10h2v-4h2a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2m0 4h-2V9h2m6 0v6h1v2h-4v-2h1V9h-1V7h4v2z"/></svg>`,
    plugin: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M20.5 11H19V7c0-1.1-.9-2-2-2h-4V3.5C13 2.12 11.88 1 10.5 1S8 2.12 8 3.5V5H4c-1.1 0-1.99.9-1.99 2v3.8H3.5c1.49 0 2.7 1.21 2.7 2.7s-1.21 2.7-2.7 2.7H2V20c0 1.1.9 2 2 2h3.8v-1.5c0-1.49 1.21-2.7 2.7-2.7s2.7 1.21 2.7 2.7V22H17c1.1 0 2-.9 2-2v-4h1.5c1.38 0 2.5-1.12 2.5-2.5S21.88 11 20.5 11z"/></svg>`,
    extension: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M20.5 11H19V7c0-1.1-.9-2-2-2h-4V3.5C13 2.12 11.88 1 10.5 1S8 2.12 8 3.5V5H4c-1.1 0-1.99.9-1.99 2v3.8H3.5c1.49 0 2.7 1.21 2.7 2.7s-1.21 2.7-2.7 2.7H2V20c0 1.1.9 2 2 2h3.8v-1.5c0-1.49 1.21-2.7 2.7-2.7s2.7 1.21 2.7 2.7V22H17c1.1 0 2-.9 2-2v-4h1.5c1.38 0 2.5-1.12 2.5-2.5S21.88 11 20.5 11z"/></svg>`,
    checksum: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-2 16l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"/></svg>`,
    signature: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"/></svg>`
}

// 预定义渐变色
const gradientPresets = [
    ['#667eea', '#764ba2'], ['#f093fb', '#f5576c'], ['#4facfe', '#00f2fe'],
    ['#43e97b', '#38f9d7'], ['#fa709a', '#fee140'], ['#30cfd0', '#330867'],
    ['#a8edea', '#fed6e3'], ['#5ee7df', '#b490ca'], ['#d299c2', '#fef9d7'],
    ['#89f7fe', '#66a6ff'], ['#cd9cf2', '#f6f3ff'], ['#ffecd2', '#fcb69f'],
    ['#a1c4fd', '#c2e9fb'], ['#d4fc79', '#96e6a1'], ['#84fab0', '#8fd3f4'],
    ['#a6c0fe', '#f68084'], ['#fccb90', '#d57eeb'], ['#e0c3fc', '#8ec5fc'],
    ['#ff9a9e', '#fecfef'], ['#a18cd1', '#fbc2eb'], ['#f6d365', '#fda085'],
    ['#96fbc4', '#f9f586'], ['#37ecba', '#72afd3'],
]

// 详情区域的颜色配置
const detailColorsLight = [
    { bg: '#f0f7ff', border: '#c6deff', label: '#3b82f6', text: '#1e40af' },  // 蓝色系
    { bg: '#f0fdf4', border: '#bbf7d0', label: '#22c55e', text: '#166534' },  // 绿色系
    { bg: '#fefce8', border: '#fef08a', label: '#eab308', text: '#a16207' },  // 黄色系
    { bg: '#fdf2f8', border: '#fbcfe8', label: '#ec4899', text: '#9d174d' },  // 粉色系
    { bg: '#f5f3ff', border: '#ddd6fe', label: '#8b5cf6', text: '#5b21b6' },  // 紫色系
    { bg: '#fff7ed', border: '#fed7aa', label: '#f97316', text: '#c2410c' },  // 橙色系
]

// 深色模式的颜色配置
const detailColorsDark = [
    { bg: '#1e3a5f', border: '#2563eb', label: '#60a5fa', text: '#93c5fd' },  // 蓝色系
    { bg: '#14532d', border: '#16a34a', label: '#4ade80', text: '#86efac' },  // 绿色系
    { bg: '#422006', border: '#ca8a04', label: '#facc15', text: '#fde047' },  // 黄色系
    { bg: '#500724', border: '#db2777', label: '#f472b6', text: '#fbcfe8' },  // 粉色系
    { bg: '#2e1065', border: '#7c3aed', label: '#a78bfa', text: '#c4b5fd' },  // 紫色系
    { bg: '#431407', border: '#ea580c', label: '#fb923c', text: '#fdba74' },  // 橙色系
]

// 检测深色模式
const isDark = ref(false)

// 获取当前主题的颜色
const detailColors = computed(() => isDark.value ? detailColorsDark : detailColorsLight)

const hashString = (str) => {
    let hash = 0
    for (let i = 0; i < str.length; i++) {
        hash = ((hash << 5) - hash) + str.charCodeAt(i)
        hash = hash & hash
    }
    return Math.abs(hash)
}

// 自动渐变逻辑
const getGradient = computed(() => {
    const uniqueKey = `${props.label}-${props.arch}-${props.match}`
    const preset = gradientPresets[hashString(uniqueKey) % gradientPresets.length]
    return `linear-gradient(135deg, ${preset[0]} 0%, ${preset[1]} 100%)`
})

// 解析图标：优先匹配内置 icons key，如果没有则认为是 SVG 字符串
const resolvedIcon = computed(() => {
    if (!props.icon) return null
    const lowerKey = props.icon.toLowerCase()
    return icons[lowerKey] || props.icon
})

// 状态
const loading = ref(true)
const error = ref(null)
const showModal = ref(false)
const selectedAsset = ref(null)
const showFileList = ref(false)
const savedScrollPosition = ref(0)

// 版本切换相关
const isPrerelease = ref(props.prerelease)
const stableRelease = ref(null)
const prereleaseRelease = ref(null)
const allReleases = ref([])

// 当前活动的 release（根据切换状态）
const release = computed(() => {
    if (props.showBothVersions) {
        return isPrerelease.value ? prereleaseRelease.value : stableRelease.value
    }
    return isPrerelease.value ? prereleaseRelease.value : stableRelease.value
})

// 计算下载数和匹配文件
const totalDownloads = computed(() => {
    if (!release.value?.assets) return 0
    return release.value.assets.reduce((sum, asset) => sum + (asset.download_count || 0), 0)
})

const matchedAssets = computed(() => {
    if (!release.value?.assets || !props.match) return []
    return release.value.assets.filter(a => isMatch(a.name))
})

// Stable 版本的数据
const stableTotalDownloads = computed(() => {
    if (!stableRelease.value?.assets) return 0
    return stableRelease.value.assets.reduce((sum, asset) => sum + (asset.download_count || 0), 0)
})

const stableMatchedAssets = computed(() => {
    if (!stableRelease.value?.assets || !props.match) return []
    return stableRelease.value.assets.filter(a => isMatch(a.name))
})

// Pre-release 版本的数据
const prereleaseTotalDownloads = computed(() => {
    if (!prereleaseRelease.value?.assets) return 0
    return prereleaseRelease.value.assets.reduce((sum, asset) => sum + (asset.download_count || 0), 0)
})

const prereleaseMatchedAssets = computed(() => {
    if (!prereleaseRelease.value?.assets || !props.match) return []
    return prereleaseRelease.value.assets.filter(a => isMatch(a.name))
})

// 是否有预发布版本
const hasPrereleaseVersion = computed(() => prereleaseRelease.value !== null)
const hasStableVersion = computed(() => stableRelease.value !== null)

// 格式化下载数
const formatDownloads = (num) => {
    if (num >= 1000000) return (num / 1000000).toFixed(1) + 'M'
    if (num >= 1000) return (num / 1000).toFixed(0) + 'k'
    return num.toString()
}

// 格式化文件大小
const formatSize = (bytes) => {
    if (bytes >= 1073741824) return (bytes / 1073741824).toFixed(2) + ' GB'
    if (bytes >= 1048576) return (bytes / 1048576).toFixed(2) + ' MB'
    if (bytes >= 1024) return (bytes / 1024).toFixed(2) + ' KB'
    return bytes + ' B'
}

// 格式化时间
const formatTime = (dateStr) => {
    const date = new Date(dateStr)
    return date.toLocaleString('zh-CN', {
        year: 'numeric', month: '2-digit', day: '2-digit',
        hour: '2-digit', minute: '2-digit', second: '2-digit'
    })
}

// 解析 match 参数
const parseMatch = (matchStr) => {
    if (!matchStr) return null
    const regexMatch = matchStr.match(/^\/(.+)\/([gimsuy]*)$/)
    if (regexMatch) {
        try {
            return new RegExp(regexMatch[1], regexMatch[2])
        } catch (e) {
            console.error('Invalid regex:', e)
            return null
        }
    }
    return matchStr
}

// 检查文件名是否匹配
const isMatch = (assetName) => {
    const matcher = parseMatch(props.match)
    if (!matcher) return false
    if (matcher instanceof RegExp) {
        return matcher.test(assetName)
    }
    const keywords = matcher.toLowerCase().split('|').map(k => k.trim())
    const name = assetName.toLowerCase()
    return keywords.every(keyword => name.includes(keyword))
}

// 获取 Release 信息（增强版）
const fetchRelease = async () => {
    try {
        loading.value = true
        error.value = null

        const res = await fetch(
            `https://api.github.com/repos/${props.owner}/${props.repo}/releases`,
            { headers: { 'Accept': 'application/vnd.github.v3+json' } }
        )

        if (!res.ok) {
            if (res.status === 404) throw new Error('仓库不存在')
            if (res.status === 403) throw new Error('请求超限')
            throw new Error(`HTTP ${res.status}`)
        }

        const data = await res.json()
        allReleases.value = data

        stableRelease.value = data.find(r => !r.prerelease && !r.draft) || null
        prereleaseRelease.value = data.find(r => r.prerelease && !r.draft) || null

        if (!prereleaseRelease.value) {
            const possiblePrerelease = data.find(r => 
                !r.draft && /alpha|beta|rc|preview|dev|nightly|canary/i.test(r.tag_name)
            )
            if (possiblePrerelease && possiblePrerelease !== stableRelease.value) {
                prereleaseRelease.value = possiblePrerelease
            }
        }

        if (props.prerelease && prereleaseRelease.value) {
            isPrerelease.value = true
        } else if (!props.prerelease && stableRelease.value) {
            isPrerelease.value = false
        } else {
            isPrerelease.value = !stableRelease.value && !!prereleaseRelease.value
        }

    } catch (e) {
        error.value = e.message
    } finally {
        loading.value = false
    }
}

// 切换版本
const toggleVersion = () => {
    if (isPrerelease.value && hasStableVersion.value) {
        isPrerelease.value = false
    } else if (!isPrerelease.value && hasPrereleaseVersion.value) {
        isPrerelease.value = true
    }
}

// 计算属性
const computedTagLabel = computed(() => {
    if (props.tagLabel) return props.tagLabel
    return isPrerelease.value ? '@pre-release' : '@latest'
})

const tagBgColor = computed(() => isPrerelease.value ? '#e6a23c' : '#67c23a')
const version = computed(() => release.value?.tag_name || 'N/A')
const releaseUrl = computed(() => release.value?.html_url || `https://github.com/${props.owner}/${props.repo}/releases`)

// 左侧标签颜色：优先使用 props.labelColor，否则默认深灰色
const computedLabelBg = computed(() => {
    if (props.labelColor) return props.labelColor
    if (isPrerelease.value && !props.showBothVersions) return '#d97706'
    return '#444c56' 
})

// 右侧 Arch 背景：优先使用 archColor，否则使用 gradient
const archBgStyle = computed(() => {
    if (props.archColor) return { backgroundColor: props.archColor }
    if (props.gradient) return { background: getGradient.value }
    return { backgroundColor: '#67c23a' }
})

const showBadge = computed(() => props.mode === 'badge' || props.mode === 'all')
const showButton = computed(() => (props.mode === 'button' || props.mode === 'all') && props.match)
const hasMultipleFiles = computed(() => matchedAssets.value.length > 1)
const firstAsset = computed(() => matchedAssets.value[0] || null)

// 项目相关链接
const projectUrl = computed(() => `https://github.com/${props.owner}/${props.repo}`)
const releasesUrl = computed(() => `https://github.com/${props.owner}/${props.repo}/releases`)
const latestUrl = computed(() => `https://github.com/${props.owner}/${props.repo}/releases/latest`)

// Stable 版本相关计算属性
const stableVersion = computed(() => stableRelease.value?.tag_name || 'N/A')
const stableReleaseUrl = computed(() => stableRelease.value?.html_url || releasesUrl.value)
const stableHasMultipleFiles = computed(() => stableMatchedAssets.value.length > 1)
const stableFirstAsset = computed(() => stableMatchedAssets.value[0] || null)

// Pre-release 版本相关计算属性
const prereleaseVersion = computed(() => prereleaseRelease.value?.tag_name || 'N/A')
const prereleaseReleaseUrl = computed(() => prereleaseRelease.value?.html_url || releasesUrl.value)
const prereleaseHasMultipleFiles = computed(() => prereleaseMatchedAssets.value.length > 1)
const prereleaseFirstAsset = computed(() => prereleaseMatchedAssets.value[0] || null)

// 弹窗当前选中的版本类型
const modalIsPrerelease = ref(false)
const modalRelease = computed(() => modalIsPrerelease.value ? prereleaseRelease.value : stableRelease.value)
const modalMatchedAssets = computed(() => modalIsPrerelease.value ? prereleaseMatchedAssets.value : stableMatchedAssets.value)

// 监听弹窗状态
watch(showModal, (val) => {
    if (val) {
        savedScrollPosition.value = window.scrollY
        document.body.style.overflow = 'hidden'
        document.body.style.position = 'fixed'
        document.body.style.top = `-${savedScrollPosition.value}px`
        document.body.style.width = '100%'
    } else {
        document.body.style.overflow = ''
        document.body.style.position = ''
        document.body.style.top = ''
        document.body.style.width = ''
        window.scrollTo(0, savedScrollPosition.value)
    }
})

// 点击按钮（普通模式）
const handleButtonClick = (e) => {
    e.preventDefault()
    e.stopPropagation()
    if (loading.value || error.value || matchedAssets.value.length === 0) return

    modalIsPrerelease.value = isPrerelease.value
    
    if (hasMultipleFiles.value) {
        showFileList.value = true
        showModal.value = true
        selectedAsset.value = null
    } else {
        selectedAsset.value = firstAsset.value
        showFileList.value = false
        showModal.value = true
    }
}

// 点击按钮（指定版本类型）
const handleVersionButtonClick = (e, isPre) => {
    e.preventDefault()
    e.stopPropagation()
    
    const targetRelease = isPre ? prereleaseRelease.value : stableRelease.value
    const targetAssets = isPre ? prereleaseMatchedAssets.value : stableMatchedAssets.value
    
    if (loading.value || error.value || targetAssets.length === 0) return

    modalIsPrerelease.value = isPre
    
    if (targetAssets.length > 1) {
        showFileList.value = true
        showModal.value = true
        selectedAsset.value = null
    } else {
        selectedAsset.value = targetAssets[0]
        showFileList.value = false
        showModal.value = true
    }
}

// 选择文件
const selectFile = (asset) => {
    selectedAsset.value = asset
    showFileList.value = false
}

// 返回列表
const backToList = () => {
    showFileList.value = true
    selectedAsset.value = null
}

// 关闭弹窗
const closeModal = () => {
    showModal.value = false
    selectedAsset.value = null
    showFileList.value = false
}

// 复制到剪贴板
const copyToClipboard = async (text) => {
    try {
        await navigator.clipboard.writeText(text)
        alert('已复制到剪贴板')
    } catch (e) {
        const input = document.createElement('input')
        input.value = text
        document.body.appendChild(input)
        input.select()
        document.execCommand('copy')
        document.body.removeChild(input)
        alert('已复制到剪贴板')
    }
}

// 转义正则特殊字符
const escapeRegex = (str) => str.replace(/[.*+?^${}()|[\]\\]/g, '\\$&')

// 获取 SHA256
const getSHA256 = (assetName) => {
    const targetRelease = modalRelease.value
    if (!targetRelease?.body) return null
    const body = targetRelease.body
    const patterns = [
        new RegExp(`${escapeRegex(assetName)}[\\s\\S]*?([a-f0-9]{64})`, 'i'),
        new RegExp(`([a-f0-9]{64})[\\s\\S]*?${escapeRegex(assetName)}`, 'i'),
        new RegExp(`\\|\\s*${escapeRegex(assetName)}\\s*\\|\\s*([a-f0-9]{64})`, 'i'),
        new RegExp(`${escapeRegex(assetName)}\\s*[:\\|]\\s*([a-f0-9]{64})`, 'i'),
    ]
    for (const pattern of patterns) {
        const match = body.match(pattern)
        if (match) return match[1]
    }
    return null
}

// 获取行颜色
const getRowColor = (index) => {
    return detailColors.value[index % detailColors.value.length]
}

// 检测并监听深色模式变化
const checkDarkMode = () => {
    isDark.value = document.documentElement.classList.contains('dark') ||
                   document.body.classList.contains('dark') ||
                   window.matchMedia('(prefers-color-scheme: dark)').matches
}

onMounted(() => {
    fetchRelease()
    
    // 初始检测
    checkDarkMode()
    
    // 监听 class 变化
    const observer = new MutationObserver(checkDarkMode)
    observer.observe(document.documentElement, { attributes: true, attributeFilter: ['class'] })
    observer.observe(document.body, { attributes: true, attributeFilter: ['class'] })
    
    // 监听系统主题变化
    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', checkDarkMode)
})
</script>

<template>
    <span class="gh-release">
        <!-- 版本切换开关 -->
        <span v-if="showToggle && !loading && !error && (hasStableVersion || hasPrereleaseVersion)" class="gh-version-toggle">
            <button 
                :class="['gh-toggle-btn', { active: !isPrerelease, disabled: !hasStableVersion }]"
                @click="hasStableVersion && (isPrerelease = false)"
                :disabled="!hasStableVersion"
            >
                <span class="gh-toggle-icon" v-html="icons.tag"></span>
                <span class="gh-toggle-text">Stable</span>
            </button>
            <button 
                :class="['gh-toggle-btn', 'gh-toggle-pre', { active: isPrerelease, disabled: !hasPrereleaseVersion }]"
                @click="hasPrereleaseVersion && (isPrerelease = true)"
                :disabled="!hasPrereleaseVersion"
            >
                <span class="gh-toggle-icon" v-html="icons.flask"></span>
                <span class="gh-toggle-text">Pre-release</span>
            </button>
        </span>

        <!-- ========== 同时显示两个版本模式 ========== -->
        <template v-if="showBothVersions">
            <!-- Stable 徽章组 -->
            <span v-if="hasStableVersion" class="gh-version-group gh-stable-group">
                <span class="gh-version-label">
                    <span class="gh-label-icon" v-html="icons.tag"></span>
                    <span>Stable</span>
                </span>
                <template v-if="showBadge">
                    <a v-if="showDownloads" :href="stableReleaseUrl" target="_blank" class="gh-badge-link"
                        :title="`Stable 总下载: ${stableTotalDownloads}`">
                        <span class="gh-badge">
                            <span class="gh-badge-label gh-stable-label">@latest</span>
                            <span class="gh-badge-value gh-badge-count">
                                <template v-if="loading">···</template>
                                <template v-else-if="error">err</template>
                                <template v-else>{{ formatDownloads(stableTotalDownloads) }}</template>
                            </span>
                        </span>
                    </a>
                    <a v-if="showVersion" :href="stableReleaseUrl" target="_blank" class="gh-badge-link" 
                        :title="`Stable 版本: ${stableVersion}`">
                        <span class="gh-badge">
                            <span class="gh-badge-label gh-release-label">release</span>
                            <span class="gh-badge-value gh-version-value">
                                <template v-if="loading">···</template>
                                <template v-else-if="error">err</template>
                                <template v-else>{{ stableVersion }}</template>
                            </span>
                        </span>
                    </a>
                </template>
                <button v-if="showButton && stableMatchedAssets.length > 0" type="button"
                    :class="['gh-dl-btn', { disabled: loading || error }]"
                    :title="stableFirstAsset?.name || ''" @click="handleVersionButtonClick($event, false)">
                    <span class="gh-dl-label" :style="{ backgroundColor: props.labelColor || '#444c56' }">
                        <span v-if="resolvedIcon" class="gh-btn-icon" v-html="resolvedIcon"></span>
                        {{ label }}
                    </span>
                    <span class="gh-dl-arch" :style="loading ? { backgroundColor: '#999' } : archBgStyle">
                        <template v-if="loading">···</template>
                        <template v-else>
                            {{ arch }}
                            <span v-if="stableHasMultipleFiles" class="gh-multi-badge">{{ stableMatchedAssets.length }}</span>
                        </template>
                    </span>
                </button>
            </span>

            <!-- Pre-release 徽章组 -->
            <span v-if="hasPrereleaseVersion" class="gh-version-group gh-prerelease-group">
                <span class="gh-version-label gh-pre-label">
                    <span class="gh-label-icon" v-html="icons.flask"></span>
                    <span>Pre-release</span>
                </span>
                <template v-if="showBadge">
                    <a v-if="showDownloads" :href="prereleaseReleaseUrl" target="_blank" class="gh-badge-link"
                        :title="`Pre-release 总下载: ${prereleaseTotalDownloads}`">
                        <span class="gh-badge gh-prerelease-badge">
                            <span class="gh-badge-label gh-prerelease-label">@pre-release</span>
                            <span class="gh-badge-value gh-badge-count">
                                <template v-if="loading">···</template>
                                <template v-else-if="error">err</template>
                                <template v-else>{{ formatDownloads(prereleaseTotalDownloads) }}</template>
                            </span>
                        </span>
                    </a>
                    <a v-if="showVersion" :href="prereleaseReleaseUrl" target="_blank" class="gh-badge-link"
                        :title="`Pre-release 版本: ${prereleaseVersion}`">
                        <span class="gh-badge gh-prerelease-badge">
                            <span class="gh-badge-label gh-release-label gh-pre-release-label">release</span>
                            <span class="gh-badge-value gh-version-value">
                                <template v-if="loading">···</template>
                                <template v-else-if="error">err</template>
                                <template v-else>{{ prereleaseVersion }}</template>
                            </span>
                        </span>
                    </a>
                </template>
                <button v-if="showButton && prereleaseMatchedAssets.length > 0" type="button"
                    :class="['gh-dl-btn', 'gh-dl-btn-pre', { disabled: loading || error }]"
                    :title="prereleaseFirstAsset?.name || ''" @click="handleVersionButtonClick($event, true)">
                    <span class="gh-dl-label gh-dl-label-pre" :style="{ backgroundColor: '#d97706' }">
                        <span v-if="resolvedIcon" class="gh-btn-icon" v-html="resolvedIcon"></span>
                        {{ label }}
                        <span class="gh-btn-pre-tag">
                            <span class="gh-btn-pre-icon" v-html="icons.flask"></span>
                        </span>
                    </span>
                    <span class="gh-dl-arch" :style="loading ? { backgroundColor: '#999' } : { background: 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)' }">
                        <template v-if="loading">···</template>
                        <template v-else>
                            {{ arch }}
                            <span v-if="prereleaseHasMultipleFiles" class="gh-multi-badge">{{ prereleaseMatchedAssets.length }}</span>
                        </template>
                    </span>
                </button>
            </span>
        </template>

        <!-- ========== 普通模式（单版本显示） ========== -->
        <template v-else>
            <!-- 徽章模式 -->
            <template v-if="showBadge">
                <a v-if="showDownloads" :href="releaseUrl" target="_blank" class="gh-badge-link"
                    :title="`总下载: ${totalDownloads}`">
                    <span :class="['gh-badge', { 'gh-prerelease-badge': isPrerelease }]">
                        <span class="gh-badge-label" :style="{ backgroundColor: tagBgColor }">{{ computedTagLabel }}</span>
                        <span class="gh-badge-value gh-badge-count">
                            <template v-if="loading">···</template>
                            <template v-else-if="error">err</template>
                            <template v-else>{{ formatDownloads(totalDownloads) }}</template>
                        </span>
                    </span>
                </a>
                <a v-if="showVersion" :href="releaseUrl" target="_blank" class="gh-badge-link" :title="`版本: ${version}`">
                    <span :class="['gh-badge', { 'gh-prerelease-badge': isPrerelease }]">
                        <span :class="['gh-badge-label', 'gh-release-label', { 'gh-pre-release-label': isPrerelease }]">release</span>
                        <span class="gh-badge-value gh-version-value">
                            <template v-if="loading">···</template>
                            <template v-else-if="error">err</template>
                            <template v-else>{{ version }}</template>
                        </span>
                    </span>
                </a>
            </template>

            <!-- 下载按钮 -->
            <button v-if="showButton" type="button"
                :class="['gh-dl-btn', { disabled: loading || error || matchedAssets.length === 0, 'gh-dl-btn-pre': isPrerelease }]"
                :title="firstAsset?.name || error || '加载中...'" @click="handleButtonClick">
                <span class="gh-dl-label" :style="{ backgroundColor: computedLabelBg }">
                    <span v-if="resolvedIcon" class="gh-btn-icon" v-html="resolvedIcon"></span>
                    {{ label }}
                    <!-- Pre-release 标识移到按钮内部 -->
                    <span v-if="isPrerelease && !loading && !error" class="gh-btn-pre-tag">
                        <span class="gh-btn-pre-icon" v-html="icons.flask"></span>
                    </span>
                </span>
                <span class="gh-dl-arch"
                    :style="loading ? { backgroundColor: '#999' } : (error || matchedAssets.length === 0 ? { backgroundColor: '#f56c6c' } : (isPrerelease ? { background: 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)' } : archBgStyle))">
                    <template v-if="loading">···</template>
                    <template v-else-if="error || matchedAssets.length === 0">错误</template>
                    <template v-else>
                        {{ arch }}
                        <span v-if="hasMultipleFiles" class="gh-multi-badge">{{ matchedAssets.length }}</span>
                    </template>
                </span>
            </button>
        </template>

        <!-- 弹窗 (保持原逻辑) -->
        <Teleport to="body">
            <Transition name="modal">
                <div v-if="showModal" class="gh-modal-overlay" @click.self="closeModal">
                    <div class="gh-modal">
                        <!-- 弹窗头部 -->
                        <div :class="['gh-modal-header', { 'gh-modal-header-pre': modalIsPrerelease }]">
                            <div class="gh-modal-title">
                                <span class="gh-modal-title-icon" v-html="showFileList ? icons.folder : icons.file"></span>
                                <span v-if="showFileList">选择文件 ({{ modalMatchedAssets.length }})</span>
                                <span v-else>文件详情</span>
                                <!-- Pre-release 标记 -->
                                <span v-if="modalIsPrerelease" class="gh-modal-pre-tag">
                                    <span class="gh-modal-pre-icon" v-html="icons.flask"></span>
                                    Pre-release
                                </span>
                            </div>
                            <button class="gh-modal-close" @click="closeModal">
                                <span v-html="icons.close"></span>
                            </button>
                        </div>

                        <!-- 版本信息条 -->
                        <div :class="['gh-version-bar', { 'gh-version-bar-pre': modalIsPrerelease }]">
                            <span class="gh-version-bar-icon" v-html="modalIsPrerelease ? icons.flask : icons.tag"></span>
                            <span class="gh-version-bar-text">
                                {{ modalRelease?.name || modalRelease?.tag_name || 'Unknown' }}
                            </span>
                            <span class="gh-version-bar-tag">{{ modalRelease?.tag_name }}</span>
                        </div>

                        <!-- 文件列表 -->
                        <div v-if="showFileList" class="gh-modal-body">
                            <div class="gh-file-list">
                                <div v-for="asset in modalMatchedAssets" :key="asset.id" class="gh-file-item"
                                    @click="selectFile(asset)">
                                    <div class="gh-file-icon" v-html="icons.package"></div>
                                    <div class="gh-file-info">
                                        <div class="gh-file-name">{{ asset.name }}</div>
                                        <div class="gh-file-meta">
                                            <span>{{ formatSize(asset.size) }}</span>
                                            <span>·</span>
                                            <span>{{ formatDownloads(asset.download_count) }} 次下载</span>
                                        </div>
                                    </div>
                                    <div class="gh-file-arrow" v-html="icons.arrowRight"></div>
                                </div>
                            </div>
                        </div>

                        <!-- 文件详情 -->
                        <div v-else-if="selectedAsset" class="gh-modal-body">
                            <div v-if="modalMatchedAssets.length > 1" class="gh-back-btn" @click="backToList">
                                <span class="gh-back-icon" v-html="icons.arrowLeft"></span>
                                返回列表
                            </div>

                            <div class="gh-detail-section">
                                <div class="gh-detail-title">
                                    <span class="gh-detail-title-icon" v-html="icons.package"></span>
                                    文件信息
                                </div>
                                <div class="gh-detail-grid">
                                    <div class="gh-detail-item"
                                        :style="{ backgroundColor: getRowColor(0).bg, borderColor: getRowColor(0).border, '--label-color': getRowColor(0).label, '--text-color': getRowColor(0).text }">
                                        <div class="gh-detail-label">
                                            <span class="gh-detail-label-icon" v-html="icons.edit"></span>
                                            文件名
                                        </div>
                                        <div class="gh-detail-value gh-copyable"
                                            @click="copyToClipboard(selectedAsset.name)">
                                            {{ selectedAsset.name }}
                                            <span class="gh-copy-hint">点击复制</span>
                                        </div>
                                    </div>
                                    <div class="gh-detail-item"
                                        :style="{ backgroundColor: getRowColor(1).bg, borderColor: getRowColor(1).border, '--label-color': getRowColor(1).label, '--text-color': getRowColor(1).text }">
                                        <div class="gh-detail-label">
                                            <span class="gh-detail-label-icon" v-html="icons.hardDrive"></span>
                                            文件大小
                                        </div>
                                        <div class="gh-detail-value">{{ formatSize(selectedAsset.size) }}</div>
                                    </div>
                                    <div class="gh-detail-item"
                                        :style="{ backgroundColor: getRowColor(2).bg, borderColor: getRowColor(2).border, '--label-color': getRowColor(2).label, '--text-color': getRowColor(2).text }">
                                        <div class="gh-detail-label">
                                            <span class="gh-detail-label-icon" v-html="icons.download"></span>
                                            下载次数
                                        </div>
                                        <div class="gh-detail-value">{{ selectedAsset.download_count.toLocaleString() }} 次</div>
                                    </div>
                                    <div class="gh-detail-item"
                                        :style="{ backgroundColor: getRowColor(3).bg, borderColor: getRowColor(3).border, '--label-color': getRowColor(3).label, '--text-color': getRowColor(3).text }">
                                        <div class="gh-detail-label">
                                            <span class="gh-detail-label-icon" v-html="icons.upload"></span>
                                            上传时间
                                        </div>
                                        <div class="gh-detail-value">{{ formatTime(selectedAsset.created_at) }}</div>
                                    </div>
                                    <div class="gh-detail-item"
                                        :style="{ backgroundColor: getRowColor(4).bg, borderColor: getRowColor(4).border, '--label-color': getRowColor(4).label, '--text-color': getRowColor(4).text }">
                                        <div class="gh-detail-label">
                                            <span class="gh-detail-label-icon" v-html="icons.refresh"></span>
                                            更新时间
                                        </div>
                                        <div class="gh-detail-value">{{ formatTime(selectedAsset.updated_at) }}</div>
                                    </div>
                                    <div class="gh-detail-item"
                                        :style="{ backgroundColor: getRowColor(5).bg, borderColor: getRowColor(5).border, '--label-color': getRowColor(5).label, '--text-color': getRowColor(5).text }">
                                        <div class="gh-detail-label">
                                            <span class="gh-detail-label-icon" v-html="icons.clipboard"></span>
                                            Content-Type
                                        </div>
                                        <div class="gh-detail-value">{{ selectedAsset.content_type }}</div>
                                    </div>
                                </div>
                            </div>

                            <div class="gh-detail-section">
                                <div class="gh-detail-title">
                                    <span class="gh-detail-title-icon" v-html="icons.link"></span>
                                    相关链接
                                </div>
                                <div class="gh-detail-grid">
                                    <div class="gh-detail-item gh-detail-full"
                                        :style="{ backgroundColor: getRowColor(0).bg, borderColor: getRowColor(0).border, '--label-color': getRowColor(0).label, '--text-color': getRowColor(0).text }">
                                        <div class="gh-detail-label">
                                            <span class="gh-detail-label-icon" v-html="icons.download"></span>
                                            下载地址
                                        </div>
                                        <div class="gh-detail-value gh-copyable gh-url"
                                            @click="copyToClipboard(selectedAsset.browser_download_url)">
                                            {{ selectedAsset.browser_download_url }}
                                            <span class="gh-copy-hint">点击复制</span>
                                        </div>
                                    </div>
                                    <div class="gh-detail-item gh-detail-full"
                                        :style="{ backgroundColor: getRowColor(1).bg, borderColor: getRowColor(1).border, '--label-color': getRowColor(1).label, '--text-color': getRowColor(1).text }">
                                        <div class="gh-detail-label">
                                            <span class="gh-detail-label-icon" v-html="icons.home"></span>
                                            项目地址
                                        </div>
                                        <div class="gh-detail-value gh-copyable gh-url"
                                            @click="copyToClipboard(projectUrl)">
                                            {{ projectUrl }}
                                            <span class="gh-copy-hint">点击复制</span>
                                        </div>
                                    </div>
                                    <div class="gh-detail-item gh-detail-full"
                                        :style="{ backgroundColor: getRowColor(2).bg, borderColor: getRowColor(2).border, '--label-color': getRowColor(2).label, '--text-color': getRowColor(2).text }">
                                        <div class="gh-detail-label">
                                            <span class="gh-detail-label-icon" v-html="icons.list"></span>
                                            发布列表
                                        </div>
                                        <div class="gh-detail-value gh-copyable gh-url"
                                            @click="copyToClipboard(releasesUrl)">
                                            {{ releasesUrl }}
                                            <span class="gh-copy-hint">点击复制</span>
                                        </div>
                                    </div>
                                    <div class="gh-detail-item gh-detail-full"
                                        :style="{ backgroundColor: getRowColor(3).bg, borderColor: getRowColor(3).border, '--label-color': getRowColor(3).label, '--text-color': getRowColor(3).text }">
                                        <div class="gh-detail-label">
                                            <span class="gh-detail-label-icon" v-html="icons.star"></span>
                                            最新发布
                                        </div>
                                        <div class="gh-detail-value gh-copyable gh-url"
                                            @click="copyToClipboard(latestUrl)">
                                            {{ latestUrl }}
                                            <span class="gh-copy-hint">点击复制</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="gh-detail-section">
                                <div class="gh-detail-title">
                                    <span class="gh-detail-title-icon" v-html="icons.shield"></span>
                                    校验信息
                                </div>
                                <div class="gh-detail-grid">
                                    <div class="gh-detail-item gh-detail-full"
                                        :style="{ backgroundColor: getRowColor(0).bg, borderColor: getRowColor(0).border, '--label-color': getRowColor(0).label, '--text-color': getRowColor(0).text }">
                                        <div class="gh-detail-label">
                                            <span class="gh-detail-label-icon" v-html="icons.key"></span>
                                            SHA256
                                        </div>
                                        <div v-if="getSHA256(selectedAsset.name)" class="gh-detail-value gh-copyable gh-hash"
                                            @click="copyToClipboard(getSHA256(selectedAsset.name))">
                                            {{ getSHA256(selectedAsset.name) }}
                                            <span class="gh-copy-hint">点击复制</span>
                                        </div>
                                        <div v-else class="gh-detail-value gh-na">未提供</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 弹窗底部 -->
                        <div :class="['gh-modal-footer', { 'gh-modal-footer-pre': modalIsPrerelease }]">
                            <a v-if="selectedAsset" :href="selectedAsset.browser_download_url" 
                               :class="['gh-download-btn', { 'gh-download-btn-pre': modalIsPrerelease }]" 
                               target="_blank">
                                <span class="gh-download-icon" v-html="icons.download"></span>
                                <span>下载文件</span>
                            </a>
                            <a :href="modalRelease?.html_url || releaseUrl" class="gh-github-btn" target="_blank">
                                <span class="gh-github-icon" v-html="icons.externalLink"></span>
                                在 GitHub 查看
                            </a>
                        </div>
                    </div>
                </div>
            </Transition>
        </Teleport>
    </span>
</template>

<style scoped>
/* ============================================
   SVG 图标清晰度修复 - 解决 em 单位导致的发虚问题
   
   原理：
   1. translateZ(0) 触发 GPU 加速，创建独立合成层
   2. backface-visibility: hidden 优化渲染
   3. shape-rendering: geometricPrecision 优化 SVG 几何精度
   
   使用方法：将以下样式添加或替换到你的 Vue 组件 <style> 中
   ============================================ */

/* ========== 全局 SVG 样式 ========== */
.gh-release :deep(svg) {
    width: 1em;
    height: 1em;
    vertical-align: middle;
    flex-shrink: 0;
    color: inherit;
    fill: currentColor;
    /* 🔧 渲染优化 - 解决发虚问题 */
    shape-rendering: geometricPrecision;
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
}

/* ========== 按钮图标容器 ========== */
.gh-btn-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 1em;
    height: 1em;
    flex-shrink: 0;
    line-height: 1;
    /* 🔧 GPU 加速 */
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
}

.gh-btn-icon :deep(svg) {
    width: 100%;
    height: 100%;
    color: inherit;
    fill: currentColor;
    display: block;
    /* 🔧 SVG 渲染优化 */
    shape-rendering: geometricPrecision;
}

/* ========== 切换按钮图标 ========== */
.gh-toggle-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 14px;
    height: 14px;
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
}

.gh-toggle-icon :deep(svg) {
    width: 14px;
    height: 14px;
    shape-rendering: geometricPrecision;
}

/* ========== 版本标签图标 ========== */
.gh-label-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 14px;
    height: 14px;
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
}

.gh-label-icon :deep(svg) {
    width: 14px;
    height: 14px;
    shape-rendering: geometricPrecision;
}

/* ========== Pre-release 标签图标 ========== */
.gh-btn-pre-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 0.9em;
    height: 0.9em;
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
}

.gh-btn-pre-icon :deep(svg) {
    width: 0.9em;
    height: 0.9em;
    color: #fff;
    shape-rendering: geometricPrecision;
}

/* ========== 弹窗标题图标 ========== */
.gh-modal-title-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 20px;
    height: 20px;
    color: var(--vp-c-text-2, #64748b);
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
}

.gh-modal-title-icon :deep(svg) {
    width: 20px;
    height: 20px;
    shape-rendering: geometricPrecision;
}

/* ========== 弹窗 Pre-release 图标 ========== */
.gh-modal-pre-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 12px;
    height: 12px;
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
}

.gh-modal-pre-icon :deep(svg) {
    width: 12px;
    height: 12px;
    shape-rendering: geometricPrecision;
}

/* ========== 版本信息栏图标 ========== */
.gh-version-bar-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 16px;
    height: 16px;
    color: #166534;
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
}

.gh-version-bar-icon :deep(svg) {
    width: 16px;
    height: 16px;
    shape-rendering: geometricPrecision;
}

/* ========== 文件图标 ========== */
.gh-file-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 20px;
    height: 20px;
    color: var(--vp-c-text-2, #64748b);
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
}

.gh-file-icon :deep(svg) {
    width: 20px;
    height: 20px;
    shape-rendering: geometricPrecision;
}

/* ========== 箭头图标 ========== */
.gh-file-arrow {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 16px;
    height: 16px;
    color: var(--vp-c-text-3, #94a3b8);
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
}

.gh-file-arrow :deep(svg) {
    width: 16px;
    height: 16px;
    shape-rendering: geometricPrecision;
}

/* ========== 返回按钮图标 ========== */
.gh-back-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 14px;
    height: 14px;
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
}

.gh-back-icon :deep(svg) {
    width: 14px;
    height: 14px;
    shape-rendering: geometricPrecision;
}

/* ========== 详情标题图标 ========== */
.gh-detail-title-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 16px;
    height: 16px;
    color: var(--vp-c-text-2, #64748b);
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
}

.gh-detail-title-icon :deep(svg) {
    width: 16px;
    height: 16px;
    shape-rendering: geometricPrecision;
}

/* ========== 详情标签图标 ========== */
.gh-detail-label-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 12px;
    height: 12px;
    color: inherit;
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
}

.gh-detail-label-icon :deep(svg) {
    width: 12px;
    height: 12px;
    shape-rendering: geometricPrecision;
}

/* ========== 下载按钮图标 ========== */
.gh-download-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 16px;
    height: 16px;
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
}

.gh-download-icon :deep(svg) {
    width: 16px;
    height: 16px;
    shape-rendering: geometricPrecision;
}

/* ========== GitHub 按钮图标 ========== */
.gh-github-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 14px;
    height: 14px;
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
}

.gh-github-icon :deep(svg) {
    width: 14px;
    height: 14px;
    shape-rendering: geometricPrecision;
}

/* ========== 关闭按钮图标 ========== */
.gh-modal-close :deep(svg) {
    width: 16px;
    height: 16px;
    shape-rendering: geometricPrecision;
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
}
</style>